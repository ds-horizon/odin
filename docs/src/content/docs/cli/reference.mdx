---
title: CLI Reference
description: Complete reference for all Odin CLI commands
---

Complete reference for all Odin CLI commands and flags.

## Global Flags

All commands inherit these flags:

| Flag | Short | Default | Description |
|------|-------|---------|-------------|
| `--profile` | `-p` | `default` | Profile to use from `~/.odin/config` |
| `--output` | `-o` | `text` | Output format (`text` or `json`) |
| `--verbose` | `-v` | `false` | Enable verbose logging |

## odin configure

Configure Odin locally and authenticate with the backend.

```bash
odin configure [flags]
```

### Flags

| Flag | Required | Description |
|------|----------|-------------|
| `--backend-address` | Yes* | Host:port of the Odin backend |
| `--org-id` | Yes* | Organization identifier |
| `--insecure` / `-I` | No | Skip TLS host verification |
| `--plaintext` / `-P` | No | Use plaintext gRPC (no TLS) |

*Required if not set via environment variables or config file

### Examples

```bash
# Basic configuration
odin configure --backend-address api.odin.example.com:443 --org-id 12345

# Local development (plaintext)
odin configure --backend-address localhost:8080 --org-id 1 --plaintext

# Configure different profile
odin configure --profile staging \
  --backend-address staging.odin.example.com:443 \
  --org-id 12345
```

### Environment Variables

- `ODIN_BACKEND_ADDRESS`
- `ODIN_ORG_ID`
- `ODIN_LOG_LEVEL`

---

## odin create env

Create a new environment.

```bash
odin create env <name> [flags]
```

### Arguments

| Argument | Required | Description |
|----------|----------|-------------|
| `name` | Yes | Environment name |

### Flags

| Flag | Required | Description |
|------|----------|-------------|
| `--accounts` | Yes | Comma-separated list of provider accounts |

### Examples

```bash
# Create development environment
odin create env dev --accounts aws/dev

# Create staging with multiple accounts
odin create env staging --accounts aws/dev,aws/shared

# Create production environment
odin create env production --accounts aws/prod,aws/shared-services
```

---

## odin delete env

Delete an existing environment.

```bash
odin delete env <name>
```

### Arguments

| Argument | Required | Description |
|----------|----------|-------------|
| `name` | Yes | Environment name |

### Examples

```bash
# Delete environment
odin delete env feature-auth-v2

# Delete with verbose output
odin delete env old-staging --verbose
```

:::caution
Deleting an environment will undeploy all services within it. This cannot be undone.
:::

---

## odin deploy service

Deploy a service to an environment.

```bash
odin deploy service [flags]
```

### Flags

| Flag | Required | Description |
|------|----------|-------------|
| `--env` | Yes* | Target environment |
| `--file` | Yes | Path to service definition JSON |
| `--provisioning` | Yes | Path to provisioning config JSON |

*Uses default environment if set via `odin set env`

### Examples

```bash
# Deploy to staging
odin deploy service --env staging \
  --file service.json \
  --provisioning provisioning.json

# Deploy with default environment
odin set env staging
odin deploy service \
  --file service.json \
  --provisioning provisioning.json

# Deploy with JSON output
odin deploy service --env production \
  --file service.json \
  --provisioning provisioning.json \
  --output json
```

---

## odin describe env

Get detailed information about an environment.

```bash
odin describe env <name> [flags]
```

### Arguments

| Argument | Required | Description |
|----------|----------|-------------|
| `name` | Yes | Environment name |

### Flags

| Flag | Required | Description |
|------|----------|-------------|
| `--service` | No | Filter to specific service |
| `--component` | No | Filter to specific component (requires `--service`) |

### Examples

```bash
# Describe entire environment
odin describe env staging

# Describe specific service
odin describe env staging --service user-api

# Describe specific component
odin describe env staging --service user-api --component database

# JSON output
odin describe env production --output json
```

---

## odin list env

List environments.

```bash
odin list env [flags]
```

### Flags

| Flag | Required | Description |
|------|----------|-------------|
| `--account` | No | Filter by provider account |
| `--all` / `-A` | No | Include all environments (requires access) |

### Examples

```bash
# List your environments
odin list env

# List all environments
odin list env --all

# Filter by account
odin list env --account aws/production

# JSON output
odin list env --output json
```

---

## odin operate service

Execute lifecycle operations on a service.

```bash
odin operate service [flags]
```

### Flags

| Flag | Required | Description |
|------|----------|-------------|
| `--name` | Yes | Service name |
| `--env` | Yes* | Target environment |
| `--operation` | Yes | Operation type |
| `--options` | No** | JSON string with operation parameters |
| `--file` | No** | Path to JSON file with operation parameters |

*Uses default environment if set
**Either `--options` or `--file` required

### Operations

- `redeploy`: Redeploy service with new configuration
- `ADD_COMPONENT`: Add a new component to the service
- `REMOVE_COMPONENT`: Remove a component from the service
- `scale`: Scale service components
- `restart`: Restart service components

### Examples

```bash
# Redeploy service
odin operate service --name user-api \
  --env staging \
  --operation redeploy \
  --file updated-service.json

# Add component
odin operate service --name user-api \
  --env staging \
  --operation ADD_COMPONENT \
  --options '{
    "component_definition": {
      "name": "cache",
      "type": "redis",
      "version": "7.0"
    },
    "provisioning_config": {
      "component_name": "cache",
      "deployment_type": "elasticache-redis"
    }
  }'

# Remove component
odin operate service --name user-api \
  --env staging \
  --operation REMOVE_COMPONENT \
  --options '{"component_name": "old-cache"}'
```

---

## odin operate component

Execute operations on a specific component.

```bash
odin operate component [flags]
```

### Flags

| Flag | Required | Description |
|------|----------|-------------|
| `--name` | Yes | Component name |
| `--service` | Yes | Service name |
| `--env` | Yes* | Target environment |
| `--operation` | Yes | Operation type |
| `--options` | No** | JSON string with operation parameters |
| `--file` | No** | Path to JSON file with parameters |

*Uses default environment if set
**Either `--options` or `--file` required

### Operations

- `scale`: Scale replicas
- `restart`: Restart component
- `update-config`: Update configuration
- `rollback`: Rollback to previous version

### Examples

```bash
# Scale component
odin operate component --name api \
  --service user-api \
  --env production \
  --operation scale \
  --options '{"replicas": 10}'

# Restart component
odin operate component --name api \
  --service user-api \
  --env staging \
  --operation restart

# Update configuration
odin operate component --name api \
  --service user-api \
  --env staging \
  --operation update-config \
  --options '{"env": {"LOG_LEVEL": "debug"}}'
```

---

## odin set env

Set the default environment for the active profile.

```bash
odin set env <name>
```

### Arguments

| Argument | Required | Description |
|----------|----------|-------------|
| `name` | Yes | Environment name |

### Examples

```bash
# Set default environment
odin set env staging

# Now commands use staging by default
odin status env  # Shows staging environment
odin deploy service --file service.json --provisioning prov.json
```

---

## odin set profile

Switch the active profile.

```bash
odin set profile <profile>
```

### Arguments

| Argument | Required | Description |
|----------|----------|-------------|
| `profile` | Yes | Profile name |

### Examples

```bash
# Switch to production profile
odin set profile production

# Switch to staging profile
odin set profile staging

# Profiles must exist (created via odin configure)
```

---

## odin status env

Check the deployment status of an environment.

```bash
odin status env <env-name> [flags]
```

### Arguments

| Argument | Required | Description |
|----------|----------|-------------|
| `env-name` | Yes | Environment name |

### Flags

| Flag | Required | Description |
|------|----------|-------------|
| `--service` | No | Filter to specific service |

### Examples

```bash
# Check environment status
odin status env staging

# Check specific service
odin status env staging --service user-api

# JSON output
odin status env production --output json

# Verbose output
odin status env production --verbose
```

### Output Example

```
Environment: staging
Status: READY

Services:
┌──────────────┬─────────┬────────────┬────────────┐
│ Service      │ Version │ Status     │ Components │
├──────────────┼─────────┼────────────┼────────────┤
│ user-api     │ 1.2.0   │ DEPLOYED   │ 3          │
│ payment-svc  │ 2.0.1   │ DEPLOYED   │ 2          │
│ analytics    │ 1.0.0   │ DEPLOYING  │ 4          │
└──────────────┴─────────┴────────────┴────────────┘
```

---

## odin undeploy service

Remove a service from an environment.

```bash
odin undeploy service <name> [flags]
```

### Arguments

| Argument | Required | Description |
|----------|----------|-------------|
| `name` | Yes | Service name |

### Flags

| Flag | Required | Description |
|------|----------|-------------|
| `--env` | Yes* | Target environment |

*Uses default environment if set

### Examples

```bash
# Undeploy from staging
odin undeploy service user-api --env staging

# Undeploy with default environment
odin set env staging
odin undeploy service user-api

# Undeploy with verbose output
odin undeploy service user-api --env dev --verbose
```

:::caution[Production Safety]
When undeploying from `prod` or `production`, you must type `PROD` to confirm.
:::

---

## odin version

Print the CLI version.

```bash
odin version
```

### Examples

```bash
odin version
# Output: Odin CLI v1.2.0
```

---

## Output Formats

### Text Output (Default)

Human-readable tables and formatted text:

```bash
odin list env
```

Output:
```
Environments:
┌──────────┬────────────┬──────────────────────┐
│ Name     │ Status     │ Accounts             │
├──────────┼────────────┼──────────────────────┤
│ dev      │ READY      │ aws/dev              │
│ staging  │ READY      │ aws/dev,aws/shared   │
│ prod     │ READY      │ aws/prod             │
└──────────┴────────────┴──────────────────────┘
```

### JSON Output

Machine-readable JSON for automation:

```bash
odin list env --output json
```

Output:
```json
{
  "environments": [
    {
      "name": "dev",
      "status": "READY",
      "accounts": ["aws/dev"]
    },
    {
      "name": "staging",
      "status": "READY",
      "accounts": ["aws/dev", "aws/shared"]
    }
  ]
}
```

---

## Configuration File

Odin stores configuration in `~/.odin/config` (TOML format):

```toml
[default]
backend_address = "api.odin.example.com:443"
org_id = "12345"
default_env = "staging"
token = "{YOUR_TOKEN}"

[production]
backend_address = "prod.odin.example.com:443"
org_id = "12345"
default_env = "production"
token = "{YOUR_TOKEN}"
```

---

## Exit Codes

| Code | Meaning |
|------|---------|
| 0 | Success |
| 1 | General error |
| 2 | Configuration error |
| 3 | Authentication error |
| 4 | Validation error |
| 5 | Backend communication error |

---

## Tips and Tricks

### Using Aliases

Create shell aliases for common commands:

```bash
# .bashrc or .zshrc
alias od="odin"
alias ods="odin status env"
alias odd="odin deploy service"
alias odu="odin undeploy service"
```

### Auto-completion

Generate shell completion (if supported):

```bash
# Bash
odin completion bash > /etc/bash_completion.d/odin

# Zsh
odin completion zsh > /usr/local/share/zsh/site-functions/_odin
```

### Environment Variables

Set defaults via environment variables:

```bash
export ODIN_BACKEND_ADDRESS=api.odin.example.com:443
export ODIN_ORG_ID=12345
export ODIN_LOG_LEVEL=debug
```

### Automation Scripts

Use JSON output for scripting:

```bash
#!/bin/bash
# Check if all services are deployed
STATUS=$(odin status env production --output json)
FAILED=$(echo $STATUS | jq '[.services[] | select(.status == "FAILED")] | length')

if [ $FAILED -gt 0 ]; then
  echo "ERROR: $FAILED services failed"
  exit 1
fi
```

---

## Related Topics

- [Getting Started](/odin/introduction/getting-started): Installation and first deployment
- [Concepts](/odin/concepts/overview): Understanding Odin concepts
- [How-To Guides](/odin/howto/overview): Common tasks and workflows
