---
/**
 * Theme initialization script
 * Runs on all pages to ensure consistent theme
 */
---

<script is:inline>
  // Theme functionality - runs immediately to prevent flash
  (function() {
    const getInitialTheme = () => {
      const stored = localStorage.getItem('theme');
      if (stored) return stored;
      
      return window.matchMedia('(prefers-color-scheme: dark)').matches 
        ? 'dark' 
        : 'light';
    };

    const setTheme = (theme) => {
      document.documentElement.setAttribute('data-theme', theme);
      localStorage.setItem('theme', theme);
    };

    // Initialize theme immediately
    setTheme(getInitialTheme());
  })();
</script>

